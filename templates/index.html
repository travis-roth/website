{% extends "base.html" %}

{% block title %}Home{% endblock %}

{% block content %}

    <section>
        <h1>TRAVIS ROTH</h1>

        <div id="visitor-info"></div>

        <script>
            // Make an AJAX request to fetch visitor information
            fetch('/visitor-info')
                .then(response => response.json())
                .then(data => {
                    const visitorInfoElement = document.getElementById('visitor-info');
                    const userOrder = data.user_order;
                    const userId = getCookie('user_id');
                    
                    if (userId in userOrder) {
                        const visitorNumber = userOrder[userId];
                        visitorInfoElement.textContent = `You are visitor number ${visitorNumber}`;
                    } else {
                        const visitorCount = Object.keys(userOrder).length + 1; // Add 1 to account for the new visitor
                        visitorInfoElement.textContent = `Welcome! You are visitor number ${visitorCount}`;
                    }
                })
                .catch(error => console.error('Error fetching visitor information:', error));
        </script>
        
    
        <a href="/projects" class="btn" id="landing_projects_button">MY PROJECTS</a>
    </section>



{% endblock %}